<html>
    <head>
        <style>
            h3{text-align: center;}
            p{text-align: center;}

        </style>
        <h3> FORGOT PASSWORD! </h3>
        <body>

        <form onsubmit="forgotPassword(event)">
        <p> <label>Your Email Id</label>
            <input id="email" type="email" name="email" required size="50" ><br>

            <button> CONTINUE </button>
        </form>
        </p>

        <a href = "./login.html"> Existing User - LOGIN</a>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.1/axios.min.js"></script>
        

            <script>
                async function forgotPassword(event){
                    event.preventDefault()
                    const email = document.getElementById('email').value

                const forgotP = {
                email
            }
                console.log(forgotP)
                try{
                const ccc= await axios.post('http://localhost:4000/password/forgotpassword', forgotP) 
                alert(ccc.data.message)
                console.log(ccc.data.message)
                if (ccc.status === 202){     
                    document.body.innerHTML = document.body.innerHTML + "<h3 style='color:blue'> Mail sent succesfully!!! </h3>"
                        } else {
                            throw new Error('Something is wrong!')
                        }
                
            }
                       
            catch(err){
                console.log(JSON.stringify(err))
                
                document.body.innerHTML = document.body.innerHTML + "<h3 style='color:red'> Something is wrong!!! </h3>"
                
            }             


            }
               
                
             </script>
        
        </body>
    </head>
</html>